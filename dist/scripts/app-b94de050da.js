function svgBuilder(){function t(t,e,n){return i=t,r=d3.select(i).append("svg").attr("width",n).attr("height",e)}function e(){return r}function n(){return i}var r=null,i=null;return{build:t,getSvg:e,getChartId:n}}!function(){"use strict";angular.module("chartTopperDemo",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap"])}(),function(){"use strict";function t(){function t(t){var e=d3.svg.line().interpolate("monotone").x(function(e){return t.xScale(e.month)}).y(function(e){return t.yScale(e.score)}),n=d3.svg.line().interpolate("monotone").x(function(e){return t.xScale(e.month)}).y(function(e){return t.yScale(e.score)});if(t.animation&&"fade-in"===t.animation)return void t.svg.append("path").attr("fill","none").attr("stroke",t.fillColor).attr("stroke-width",0).attr("class","line").attr("d",n(t.data)).transition().ease("linear").delay(1e3).duration(1e3).attr("d",e(t.data)).attr("stroke-width",1.5);var r=t.svg.append("path").attr("fill","none").attr("stroke",t.fillColor).attr("stroke-width",1.5).attr("d",e(t.data));if(t.animation&&"ghost-writer"===t.animation){var i=r.node().getTotalLength();r.attr("stroke-dasharray",i+" "+i).attr("stroke-dashoffset",i).transition().duration(2e3).ease("linear").attr("stroke-dashoffset",0)}}return{visit:t}}angular.module("chartTopperDemo").service("lineDrawerVisitor",t)}(),function(){function t(){function t(t){t.svg.append("g").selectAll("circle.median").data(t.data).enter().append("circle").attr("r",4).attr("cx",function(e){return t.xScale(e.month)}).attr("cy",function(e){return t.yScale(e.score)}).style("fill",t.fillColor).append("text").text("test text").attr("text-anchor","top")}return{visit:t}}angular.module("chartTopperDemo").service("circleDrawerVisitor",t)}(),function(){function t(){function t(t){var n=d3.svg.axis().scale(t.yScale).orient("right").tickValues(e).tickSize(-t.height+65),r=d3.svg.axis().scale(t.xScale).orient("bottom").tickSize(-t.width+55).tickFormat(function(e){var n=t.data[e-1];return n?n.monthText:""});t.svg.append("g").attr("id","xAxisG").attr("transform","translate(0, 540)").call(r),t.svg.append("g").attr("id","yAxisG").attr("transform","translate(530, 0)").call(n)}return{visit:t}}angular.module("chartTopperDemo").service("axisDrawerVisitor",t);var e=[10,20,30,40,50,60,70,80,90,100]}(),function(){function t(){function t(t){var e=Math.min(t.height,t.width)/2,n=t.svg.append("g").attr("transform","translate("+e+","+e+")");n.append("text").attr("dy",".35em").attr("text-anchor","middle").text(t.title)}return{visit:t}}angular.module("chartTopperDemo").service("TitleVisitor",t)}(),function(){function t(){function t(t){function e(t){var e={startAngle:0,endAngle:0},n=d3.interpolate(e,t);return function(t){return i(n(t))}}var n=d3.scale.category20(),r=Math.min(t.width,t.height)/2,i=d3.svg.arc().innerRadius(r/2).outerRadius(r),a=d3.layout.pie(),o=Math.min(t.height,t.width)/2,s=t.svg.append("g").attr("transform","translate("+o+","+o+")");s.selectAll("path").data(a(t.data)).enter().append("path").attr("stroke","white").attr("stroke-width",.5).attr("fill",function(t,e){return n(e)}).transition().duration(1e3).delay(1e3).attrTween("d",e),s.selectAll("text").data(a(t.data)).enter().append("text").attr("transform",function(t){var e=i.centroid(t);return"translate("+e[0]+","+e[1]+")"}).transition().delay(2100).attr("text-anchor","middle").text(function(t){return t.value})}return{visit:t}}angular.module("chartTopperDemo").service("ArcVisitor",t)}(),function(){function t(){function t(t){var e=d3.svg.axis().scale(t.y).orient("left").ticks(10);t.svg.append("g").attr("class","y axis").call(e).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end")}return{visit:t}}angular.module("chartTopperDemo").service("yAxisVisitor",t)}(),function(){function t(){function t(t){var e=d3.svg.axis().scale(t.x).orient("bottom");t.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+t.height+")").call(e)}return{visit:t}}angular.module("chartTopperDemo").service("xAxisVisitor",t)}(),function(){function t(){function t(t){t.svg.selectAll(".bar").data(t.data).enter().append("rect").attr("class","bar").attr("x",function(e){return t.x(e.scale)}).attr("width",t.x.rangeBand()).attr("y",function(e){return t.y(e.data)}).attr("height",function(e){return t.height-t.y(e.data)})}return{visit:t}}angular.module("chartTopperDemo").service("barVisitor",t)}(),function(){function t(t,e,n){function r(t,e,n,r){return new i(t,e,n,r)}function i(r,i,s,l){this.lineChart=s,this.element=i,this.data=r,this.xScale=null,this.yScale=null,this.svg=null,this.fillColor=null===l?a:l,this.height=575,this.width=575,this.animate=function(t){return void 0===this.animation&&(this.animation=t),this},this.build=function(){_.each(this.data,function(t,e){var n={score:t};_.extend(o[e],n)}),this.data=o,this.xScale=d3.scale.linear().domain([1,13]).range([20,this.width-45]),this.yScale=d3.scale.linear().domain([0,100]).range([this.height-35,20]),this.svg=d3.select(this.element).append("svg").attr("width",this.width).attr("height",this.height),n.visit(this),e.visit(this),this.lineChart&&t.visit(this)}}var a="steelblue",o=[{month:"1",monthText:"Jan"},{month:"2",monthText:"Feb"},{month:"3",monthText:"Mar"},{month:"4",monthText:"Apr"},{month:"5",monthText:"May"},{month:"6",monthText:"Jun"},{month:"7",monthText:"Jul"},{month:"8",monthText:"Aug"},{month:"9",monthText:"Sep"},{month:"10",monthText:"Oct"},{month:"11",monthText:"Nov"},{month:"12",monthText:"Dec"}];return{createLineChart:r}}angular.module("chartTopperDemo").service("lineChartService",t),t.$inject=["lineDrawerVisitor","circleDrawerVisitor","axisDrawerVisitor"]}(),function(){function t(t,e){function n(t,e,n,i,a){return new r(t,e,n,i,a)}function r(n,r,i,a,o){this.data=n,this.element=r,this.height=i,this.width=a,this.title=o,this.svg=null,this.build=function(){this.svg=d3.select(r).append("svg").attr("width",a).attr("height",i),t.visit(this),e.visit(this)}}return{createDonut:n}}angular.module("chartTopperDemo").service("donutService",t),t.$inject=["ArcVisitor","TitleVisitor"]}(),angular.module("chartTopperDemo").service("svgBuilder",svgBuilder),function(){function t(){function t(e,n){function r(t){i("outside"===t?1.5:1)}function i(t){e.enterAndAppend("text").attr("transform",function(e){var r=n.getCenterCoordinates(e);return"translate("+r[0]*t+","+r[1]*t+")"}).attr("text-anchor","middle").text(function(t){return t.value})}t.prototype.addDataLabels=function(t){r(t)}}return{createLabelBuilder:function(e,n){return new t(e,n)}}}angular.module("chartTopperDemo").service("donutLabelBuilder",t)}(),function(){function t(){function t(e,n,r){t.prototype.enterAndAppend=function(t){return r.selectAll(t).data(n(e)).enter().append(t)}}return{createVisitor:function(e,n,r){return new t(e,n,r)}}}angular.module("chartTopperDemo").service("elementVisitor",t)}(),function(){"use strict";function t(t,e,n,r){function i(i,a,s,l){var c=t.build(a,s,l).append("g").attr("transform","translate("+Math.min(l,s)/2+","+Math.min(l,s)/2+")"),u=n.createVisitor(i,o,c),d=e.createArc(s,l),h=r.createLabelBuilder(u,d);u.enterAndAppend("path").attr("stroke","white").attr("stroke-width",.5).attr("fill",function(t,e){return d.color(e)}).attr("d",d.arc),h.addDataLabels("center"),c.append("text").attr("dy",".35em").attr("text-anchor","middle").text("Test Text")}function a(t,e,n,r){}var o=d3.layout.pie();return{build:i,create:a}}angular.module("chartTopperDemo").service("donutChart",t),t.$inject=["svgBuilder","arcBuilder","elementVisitor","donutLabelBuilder"]}(),function(){function t(){function t(t,e){this.radius=Math.min(e,t)/2,this.color=d3.scale.category20(),this.arc=d3.svg.arc().innerRadius(this.radius/2).outerRadius(this.radius)}return t.prototype.getCenterCoordinates=function(t){return this.arc.centroid(t)},{createArc:function(e,n){return new t(e,n)}}}angular.module("chartTopperDemo").service("arcBuilder",t)}(),function(){function t(t,e,n){function r(){this.x=null,this.y=null,this.data=null,this.data=null,this.svg=null,this.margin=null,this.height=null,this.width=null,this.build=function(r,i,a,o,s){this.data=s,this.element=r,this.margin=o,this.width=a-this.margin.left-this.margin.right,this.height=i-this.margin.top-this.margin.bottom,this.x=d3.scale.ordinal().rangeRoundBands([0,this.width],.3),this.y=d3.scale.linear().range([this.height,0]),this.svg=d3.select(r).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.x.domain(s.map(function(t){return t.scale})),this.y.domain([0,d3.max(s,function(t){return t.data})]),e.visit(this),t.visit(this),n.visit(this)}}return{createLineChart:function(){return new r}}}angular.module("chartTopperDemo").service("barChartService",t),t.$inject=["yAxisVisitor","xAxisVisitor","barVisitor"]}(),function(){"use strict";function t(t,e){function n(t,e){}function r(t,n){e.createLineChart(t,n,!0,"steelblue").animate("ghost-writer").build()}function i(e,n){t.createDonut(e,n,250,250,"Donut Title").build()}var a={buildBarChart:n,buildLineChart:r,buildDonutChart:i};return a}angular.module("chartTopperDemo").service("chartTopper",t),t.$inject=["donutService","lineChartService"]}(),function(){"use strict";function t(){function t(t){var e=this;e.relativeDate=t(e.creationDate).fromNow()}var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["moment"],e}angular.module("chartTopperDemo").directive("acmeNavbar",t)}(),function(){"use strict";function t(t){var e=[5,10,15,20,25],n=["45","55","62","35","45","71","78","65","41","93","81","87"],r="#d3-test",i="#d3-line-test",a="#d3-donut-test";t.buildBarChart(e,r),t.buildLineChart(n,i),t.buildDonutChart(e,a,250,250)}angular.module("chartTopperDemo").controller("MainController",t),t.$inject=["chartTopper"]}(),function(){"use strict";function t(t){t.debug("runBlock end")}angular.module("chartTopperDemo").run(t),t.$inject=["$log"]}(),function(){"use strict";function t(t,e){t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),e.otherwise("/")}angular.module("chartTopperDemo").config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("chartTopperDemo").constant("malarkey",malarkey).constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function t(t,e){t.debugEnabled(!0),e.options.timeOut=3e3,e.options.positionClass="toast-top-right",e.options.preventDuplicates=!0,e.options.progressBar=!0}angular.module("chartTopperDemo").config(t),t.$inject=["$logProvider","toastr"]}(),angular.module("chartTopperDemo").run(["$templateCache",function(t){t.put("app/main/main.html",'<style>\n\n    #d3-line-test rect {\n        fill: steelblue;\n    }\n\n    #d3-line-test  text {\n        fill: gray;\n        font: 10px sans-serif;\n        text-anchor: end;\n    }\n\n</style><div class="container"><div><acme-navbar creationdate="main.creationDate"></acme-navbar></div><div class="jumbotron text-center"><div class="row"><div class="col-lg-12"><h3>Test div that will hold my Line svg</h3><div class="col-lg-12"><div id="d3-line-test"></div></div></div><div class="col-lg-12"><h3>Test div that will hold my Donut svg</h3></div></div><div class="row"><div class="col-lg-12"><div id="d3-donut-test"></div></div></div></div></div>'),t.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="https://github.com/Swiip/generator-gulp-angular"><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li class="active"><a ng-href="#">Home</a></li><li><a ng-href="#">About</a></li><li><a ng-href="#">Contact</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav>')}]);